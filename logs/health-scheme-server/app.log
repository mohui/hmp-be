2023-05-15 08:23:21.236  WARN 50748 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1d16h6s625ms).
2023-05-15 09:21:03.249  WARN 50748 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=57m42s16ms).
2023-05-15 10:27:02.867  INFO 50748 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 10:27:02.887  INFO 50748 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 10:53:47.488  INFO 59845 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 59845 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 10:53:47.490 DEBUG 59845 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 10:53:47.492  INFO 59845 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 10:53:51.868  INFO 59845 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 10:53:53.347  INFO 59845 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 10:53:53.371  INFO 59845 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 10:53:53.372  INFO 59845 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 10:53:53.618  INFO 59845 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 10:53:53.619  INFO 59845 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5738 ms
2023-05-15 10:53:54.240  INFO 59845 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 10:53:54.391 DEBUG 59845 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 10:53:54.391 DEBUG 59845 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 10:53:54.614 DEBUG 59845 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 10:53:55.042  INFO 59845 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 10:53:55.278  INFO 59845 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 10:53:55.960  INFO 59845 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 10:53:55.981  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 10:53:56.997  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 10:53:56 | 执行时间：70ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 10:53:57.048  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 10:53:57 | 执行时间：17ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 10:53:57.049  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 10:53:57.184  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 10:53:57 | 执行时间：25ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 10:53:57.194  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 10:53:57.196  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 10:53:57 | 执行时间：2ms 
 commit:  
2023-05-15 10:53:57.199  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 10:53:57 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 10:53:57.199  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 10:53:57.201  INFO 59845 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 10:53:57 | 执行时间：0ms 
 rollback:  
2023-05-15 10:53:57.201  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 10:53:57.202  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 10:53:57.252  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 10:53:57.566  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 10:53:57.567  INFO 59845 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 11:00:42.987  WARN 59845 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m9s587ms).
2023-05-15 11:27:50.737  WARN 59845 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=27m7s749ms).
2023-05-15 11:27:50.777  WARN 59845 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 11:27:50.789  INFO 59845 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 11:27:50.813  INFO 59845 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 11:27:50.827  INFO 59845 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 11:27:50.878  INFO 59845 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 11:27:51.032 ERROR 59845 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:173) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 11:30:52.917  INFO 63414 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 63414 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 11:30:52.920 DEBUG 63414 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 11:30:52.920  INFO 63414 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 11:30:56.830  INFO 63414 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 11:30:58.049  INFO 63414 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 11:30:58.065  INFO 63414 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 11:30:58.065  INFO 63414 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 11:30:58.207  INFO 63414 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 11:30:58.207  INFO 63414 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4755 ms
2023-05-15 11:30:58.667  INFO 63414 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 11:30:58.753 DEBUG 63414 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 11:30:58.754 DEBUG 63414 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 11:30:58.794 DEBUG 63414 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 11:30:59.061  INFO 63414 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 11:30:59.153  INFO 63414 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 11:30:59.665  INFO 63414 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 11:30:59.685  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 11:31:00.530  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 11:31:00 | 执行时间：6ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 11:31:00.560  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 11:31:00 | 执行时间：7ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 11:31:00.560  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 11:31:00.625  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 11:31:00 | 执行时间：6ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 11:31:00.633  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 11:31:00.634  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 11:31:00 | 执行时间：0ms 
 commit:  
2023-05-15 11:31:00.636  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 11:31:00 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 11:31:00.636  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 11:31:00.637  INFO 63414 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 11:31:00 | 执行时间：0ms 
 rollback:  
2023-05-15 11:31:00.638  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 11:31:00.638  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 11:31:00.651  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 11:31:00.862  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 11:31:00.865  INFO 63414 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 11:31:17.842  INFO 63414 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 11:31:18.130  INFO 63414 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 11:31:18.279  INFO 63414 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 11:31:18.605  INFO 63414 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 11:31:18.808 DEBUG 63414 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 11:31:19.006 DEBUG 63414 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 11:31:19.111 DEBUG 63414 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 11:31:19.137 DEBUG 63414 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 11:31:19.600  INFO 63414 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20710676, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@476e0561, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c60a200, org.springframework.security.web.header.HeaderWriterFilter@5f39ca37, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38687f10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@49b71e47, com.bjknrt.security.JwtAuthenticationFilter@55b700e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47a4b9b, org.springframework.security.web.session.SessionManagementFilter@3b69aeb1, org.springframework.security.web.access.ExceptionTranslationFilter@59e3260c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2219ef4e]
2023-05-15 11:31:20.487  INFO 63414 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 11:31:20.679  INFO 63414 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 11:31:20.679  INFO 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 11:31:20.680 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 11:31:20.680 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 11:31:20.680 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 11:31:20.681 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@68a0552b
2023-05-15 11:31:20.682 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@74dc7943
2023-05-15 11:31:20.682 DEBUG 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 11:31:20.682  INFO 63414 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-05-15 11:31:20.683  INFO 63414 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 11:31:20.706  INFO 63414 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 29.067 seconds (JVM running for 35.558)
2023-05-15 12:01:52.552  INFO 63414 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 12:01:52.566  INFO 63414 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 12:02:37.556  INFO 65342 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 65342 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 12:02:37.559 DEBUG 65342 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 12:02:37.560  INFO 65342 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 12:02:42.427  INFO 65342 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 12:02:43.989  INFO 65342 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 12:02:44.018  INFO 65342 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 12:02:44.019  INFO 65342 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 12:02:44.239  INFO 65342 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 12:02:44.240  INFO 65342 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5945 ms
2023-05-15 12:02:44.739  INFO 65342 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 12:02:44.825 DEBUG 65342 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 12:02:44.825 DEBUG 65342 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 12:02:44.881 DEBUG 65342 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 12:02:45.179  INFO 65342 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 12:02:45.289  INFO 65342 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 12:02:45.854  INFO 65342 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 12:02:45.878  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 12:02:46.815  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 12:02:46 | 执行时间：8ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 12:02:46.842  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 12:02:46 | 执行时间：7ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 12:02:46.842  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 12:02:46.907  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 12:02:46 | 执行时间：5ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 12:02:46.914  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 12:02:46.917  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 12:02:46 | 执行时间：1ms 
 commit:  
2023-05-15 12:02:46.919  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 12:02:46 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 12:02:46.919  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 12:02:46.920  INFO 65342 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 12:02:46 | 执行时间：0ms 
 rollback:  
2023-05-15 12:02:46.921  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 12:02:46.922  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 12:02:46.935  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 12:02:47.185  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 12:02:47.187  INFO 65342 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 12:05:31.788  WARN 65342 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m45s834ms).
2023-05-15 12:05:31.822  WARN 65342 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 12:05:31.825  INFO 65342 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 12:05:31.835  INFO 65342 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 12:05:31.839  INFO 65342 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 12:05:31.868  INFO 65342 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 12:05:31.980 ERROR 65342 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:175) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 13:45:26.235  INFO 70725 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 70725 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 13:45:26.239 DEBUG 70725 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 13:45:26.240  INFO 70725 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 13:45:31.482  INFO 70725 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 13:45:33.392  INFO 70725 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 13:45:33.434  INFO 70725 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 13:45:33.435  INFO 70725 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 13:45:33.778  INFO 70725 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 13:45:33.779  INFO 70725 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6921 ms
2023-05-15 13:45:34.821  INFO 70725 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 13:45:35.036 DEBUG 70725 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 13:45:35.036 DEBUG 70725 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 13:45:35.152 DEBUG 70725 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 13:45:35.867  INFO 70725 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 13:45:36.143  INFO 70725 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 13:45:37.353  INFO 70725 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 13:45:37.387  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 13:45:38.808  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 13:45:38 | 执行时间：7ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 13:45:38.857  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:45:38 | 执行时间：13ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 13:45:38.858  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 13:45:39.029  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:45:39 | 执行时间：11ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 13:45:39.055  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 13:45:39.058  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:45:39 | 执行时间：1ms 
 commit:  
2023-05-15 13:45:39.061  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:45:39 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 13:45:39.062  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 13:45:39.064  INFO 70725 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:45:39 | 执行时间：0ms 
 rollback:  
2023-05-15 13:45:39.065  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 13:45:39.065  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 13:45:39.085  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 13:45:39.403  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 13:45:39.405  INFO 70725 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 13:46:30.986  WARN 70725 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=53s529ms).
2023-05-15 13:49:41.016  WARN 70725 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=3m10s30ms).
2023-05-15 13:49:41.055  WARN 70725 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 13:49:41.060  INFO 70725 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 13:49:41.076  INFO 70725 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 13:49:41.082  INFO 70725 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 13:49:41.121  INFO 70725 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 13:49:41.209 ERROR 70725 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:176) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 13:51:34.174  INFO 71140 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 71140 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 13:51:34.177 DEBUG 71140 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 13:51:34.177  INFO 71140 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 13:51:39.585  INFO 71140 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 13:51:41.041  INFO 71140 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 13:51:41.061  INFO 71140 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 13:51:41.061  INFO 71140 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 13:51:41.435  INFO 71140 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 13:51:41.435  INFO 71140 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6772 ms
2023-05-15 13:51:42.214  INFO 71140 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 13:51:42.394 DEBUG 71140 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 13:51:42.395 DEBUG 71140 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 13:51:42.476 DEBUG 71140 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 13:51:42.805  INFO 71140 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 13:51:42.918  INFO 71140 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 13:51:43.886  INFO 71140 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 13:51:43.927  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 13:51:45.321  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 13:51:45 | 执行时间：29ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 13:51:45.383  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:51:45 | 执行时间：10ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 13:51:45.384  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 13:51:45.498  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:51:45 | 执行时间：11ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 13:51:45.512  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 13:51:45.516  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:51:45 | 执行时间：2ms 
 commit:  
2023-05-15 13:51:45.522  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:51:45 | 执行时间：4ms 
 statement: unlock tables 
2023-05-15 13:51:45.523  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 13:51:45.527  INFO 71140 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:51:45 | 执行时间：3ms 
 rollback:  
2023-05-15 13:51:45.530  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 13:51:45.531  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 13:51:45.553  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 13:51:45.886  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 13:51:45.891  INFO 71140 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 13:53:49.003  WARN 71140 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=2m5s16ms).
2023-05-15 13:55:20.678  WARN 71140 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m31s675ms).
2023-05-15 13:55:22.983  WARN 71140 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 13:55:22.985  INFO 71140 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 13:55:23.000  INFO 71140 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 13:55:23.003  INFO 71140 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 13:55:23.027  INFO 71140 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 13:55:23.084 ERROR 71140 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:174) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 13:55:58.106  INFO 71407 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 71407 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 13:55:58.107 DEBUG 71407 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 13:55:58.108  INFO 71407 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 13:56:00.965  INFO 71407 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 13:56:02.122  INFO 71407 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 13:56:02.139  INFO 71407 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 13:56:02.139  INFO 71407 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 13:56:02.296  INFO 71407 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 13:56:02.297  INFO 71407 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3849 ms
2023-05-15 13:56:02.766  INFO 71407 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 13:56:02.856 DEBUG 71407 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 13:56:02.857 DEBUG 71407 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 13:56:02.911 DEBUG 71407 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 13:56:03.231  INFO 71407 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 13:56:03.330  INFO 71407 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 13:56:03.791  INFO 71407 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 13:56:03.809  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 13:56:04.415  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 13:56:04 | 执行时间：3ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 13:56:04.436  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:56:04 | 执行时间：1ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 13:56:04.437  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 13:56:04.508  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:56:04 | 执行时间：17ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 13:56:04.515  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 13:56:04.516  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:56:04 | 执行时间：0ms 
 commit:  
2023-05-15 13:56:04.518  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:56:04 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 13:56:04.518  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 13:56:04.519  INFO 71407 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:56:04 | 执行时间：0ms 
 rollback:  
2023-05-15 13:56:04.519  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 13:56:04.520  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 13:56:04.531  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 13:56:04.724  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 13:56:04.726  INFO 71407 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 13:57:09.269  WARN 71407 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m5s375ms).
2023-05-15 13:57:09.285  WARN 71407 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 13:57:09.290  INFO 71407 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 13:57:09.303  INFO 71407 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 13:57:09.307  INFO 71407 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 13:57:09.339  INFO 71407 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 13:57:09.414 ERROR 71407 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:174) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 13:57:41.741  INFO 71546 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 71546 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 13:57:41.838 DEBUG 71546 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 13:57:41.840  INFO 71546 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 13:57:47.093  INFO 71546 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 13:57:48.804  INFO 71546 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 13:57:48.829  INFO 71546 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 13:57:48.829  INFO 71546 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 13:57:49.106  INFO 71546 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 13:57:49.106  INFO 71546 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6502 ms
2023-05-15 13:57:49.737  INFO 71546 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 13:57:49.854 DEBUG 71546 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 13:57:49.855 DEBUG 71546 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 13:57:49.919 DEBUG 71546 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 13:57:50.365  INFO 71546 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 13:57:50.510  INFO 71546 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 13:57:51.161  INFO 71546 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 13:57:51.188  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 13:57:52.281  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 13:57:52 | 执行时间：9ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 13:57:52.314  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:57:52 | 执行时间：4ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 13:57:52.314  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 13:57:52.429  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:57:52 | 执行时间：10ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 13:57:52.442  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 13:57:52.445  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:57:52 | 执行时间：2ms 
 commit:  
2023-05-15 13:57:52.448  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:57:52 | 执行时间：1ms 
 statement: unlock tables 
2023-05-15 13:57:52.448  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 13:57:52.451  INFO 71546 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 13:57:52 | 执行时间：0ms 
 rollback:  
2023-05-15 13:57:52.452  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 13:57:52.452  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 13:57:52.469  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 13:57:52.787  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 13:57:52.789  INFO 71546 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:18:31.254  WARN 71546 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=20m39s988ms).
2023-05-15 14:18:31.292  WARN 71546 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 14:18:31.297  INFO 71546 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 14:18:31.313  INFO 71546 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 14:18:31.321  INFO 71546 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 14:19:31.076  INFO 72946 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 72946 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:19:31.081 DEBUG 72946 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:19:31.082  INFO 72946 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:19:35.305  INFO 72946 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 14:19:37.089  INFO 72946 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:19:37.115  INFO 72946 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:19:37.115  INFO 72946 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:19:37.329  INFO 72946 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 14:19:37.329  INFO 72946 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 5761 ms
2023-05-15 14:19:38.021  INFO 72946 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:19:38.163 DEBUG 72946 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:19:38.163 DEBUG 72946 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:19:38.253 DEBUG 72946 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:19:38.681  INFO 72946 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:19:38.834  INFO 72946 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 14:19:39.741  INFO 72946 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 14:19:39.771  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 14:19:41.055  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 14:19:41 | 执行时间：7ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 14:19:41.095  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:19:41 | 执行时间：3ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 14:19:41.096  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 14:19:41.230  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:19:41 | 执行时间：9ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 14:19:41.248  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 14:19:41.250  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:19:41 | 执行时间：0ms 
 commit:  
2023-05-15 14:19:41.254  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:19:41 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 14:19:41.254  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 14:19:41.256  INFO 72946 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:19:41 | 执行时间：0ms 
 rollback:  
2023-05-15 14:19:41.257  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 14:19:41.257  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 14:19:41.276  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 14:19:41.829  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 14:19:41.832  INFO 72946 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:20:42.137  WARN 72946 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m2s292ms).
2023-05-15 14:20:49.412  WARN 72946 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
2023-05-15 14:20:49.417  INFO 72946 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 14:20:49.437  INFO 72946 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 14:20:49.443  INFO 72946 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 14:20:49.506  INFO 72946 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 14:20:49.625 ERROR 72946 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.health.scheme.api.ManageController' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/controller/ManageController.class]: Unsatisfied dependency expressed through constructor parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:955) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthManageFacadeServiceImpl' defined in file [/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main/com/bjknrt/health/scheme/service/health/impl/HealthManageFacadeServiceImpl.class]: Bean instantiation via constructor failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:315) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:296) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.21.jar:5.3.21]
	... 24 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl]: Constructor threw exception; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:117) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:311) ~[spring-beans-5.3.21.jar:5.3.21]
	... 38 common frames omitted
Caused by: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
健康方案类型：[HYPERTENSION	, DIABETES	, CEREBRAL_STROKE	, COPD	, ACUTE_CORONARY_DISEASE	]
健康方案实现类：[com.bjknrt.health.scheme.service.health.impl.HealthManageHypertensionServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageDiabetesServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCerebralStrokeServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageCopdServiceImpl	, com.bjknrt.health.scheme.service.health.impl.HealthManageAcuteCoronaryDiseaseServiceImpl	]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.<init>(HealthManageFacadeServiceImpl.kt:174) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]
	at kotlin.reflect.jvm.internal.calls.CallerImpl$Constructor.call(CallerImpl.kt:41) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:108) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callDefaultMethod$kotlin_reflection(KCallableImpl.kt:159) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at kotlin.reflect.jvm.internal.KCallableImpl.callBy(KCallableImpl.kt:112) ~[kotlin-reflect-1.7.22.jar:1.7.22-release-288(1.7.22)]
	at org.springframework.beans.BeanUtils$KotlinDelegate.instantiateClass(BeanUtils.java:892) ~[spring-beans-5.3.21.jar:5.3.21]
	at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:196) ~[spring-beans-5.3.21.jar:5.3.21]
	... 40 common frames omitted

2023-05-15 14:22:32.173  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:22:32.178 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:22:32.180  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:22:37.660  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 14:22:39.207  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:22:39.232  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:22:39.233  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:22:39.487  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 14:22:39.487  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6522 ms
2023-05-15 14:22:40.243  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:22:40.378 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:22:40.378 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:22:40.443 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:22:40.866  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:22:41.008  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 14:22:41.774  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 14:22:41.803  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 14:22:42.792  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 14:22:42 | 执行时间：6ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 14:22:42.818  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:22:42 | 执行时间：2ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 14:22:42.818  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 14:22:42.908  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:22:42 | 执行时间：9ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 14:22:42.919  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 14:22:42.931  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:22:42 | 执行时间：10ms 
 commit:  
2023-05-15 14:22:42.935  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:22:42 | 执行时间：2ms 
 statement: unlock tables 
2023-05-15 14:22:42.936  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 14:22:42.940  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:22:42 | 执行时间：0ms 
 rollback:  
2023-05-15 14:22:42.941  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 14:22:42.941  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 14:22:42.960  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 14:22:43.198  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 14:22:43.199  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:22:53.912  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:22:54.094  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:22:54.213  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:22:54.400  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:22:54.530 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 14:22:54.650 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 14:22:54.715 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 14:22:54.734 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 14:22:55.047  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@635841d8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f40fd1b, org.springframework.security.web.context.SecurityContextPersistenceFilter@3fad911, org.springframework.security.web.header.HeaderWriterFilter@3a1cf0a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f0421fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e9d38f7, com.bjknrt.security.JwtAuthenticationFilter@55b700e0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@720fd171, org.springframework.security.web.session.SessionManagementFilter@79fd1cfc, org.springframework.security.web.access.ExceptionTranslationFilter@7bf9b869, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@469d35c9]
2023-05-15 14:22:55.770  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 14:22:55.924  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 14:22:55.924  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 14:22:55.925 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 14:22:55.925 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 14:22:55.925 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 14:22:55.927 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6d97718d
2023-05-15 14:22:55.927 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@12b30984
2023-05-15 14:22:55.927 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 14:22:55.928  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-05-15 14:22:55.929  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 14:22:55.951  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 24.958 seconds (JVM running for 31.341)
2023-05-15 14:28:29.943 DEBUG 73181 --- [http-nio-8080-exec-1] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 22:26:09 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PwQ6CMAxA_6VnDiuDbuWmNy_-A0gxU9wMjMSE8O8O40GC19f2vXSGW3RQAVJpmEtDJmc2Kje2gAxcHaFCsgVqZOIMfNNtgbyeX0DKrGCCagbXrnBnTMJxnKQ9bKxU6iQO8ShdGGQ3SQU31NEF_xsiwtQaZTh9UloVitgyqhwtFUzJ6C73c_2Q9TlrNBtC1JSeEl83vaSzOEySQR-uzv9ZXJY3i7ThhBwBAAA.aUrUSsW5-pU80dk9mULCcGJ0_j7kaRchvO9s9jVfcjg)
2023-05-15 14:28:29.968 DEBUG 73181 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/manage/delHealthPlanByPatientIdAndTypes", parameters={}
2023-05-15 14:28:30.005 DEBUG 73181 --- [http-nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#delHealthPlanByPatientIdAndTypes(DelHealthPlanByPatientIdAndTypes)
2023-05-15 14:28:30.081 DEBUG 73181 --- [http-nio-8080-exec-1] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"types":["DIET_PLAN"]}]
2023-05-15 14:28:30.323 DEBUG 73181 --- [http-nio-8080-exec-1] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=delHealthPlanByPatientIdAndTypes，value=DelHealthPlanByPatientIdAndTypes(patientId=1630406989102186496, types=[DIET_PLAN])
2023-05-15 14:28:31.122  INFO 73181 --- [http-nio-8080-exec-1] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:28:31 | 执行时间：40ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T14:28:30.592441'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T14:28:30.592441'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 14:28:40.885  INFO 73181 --- [http-nio-8080-exec-1] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:28:40 | 执行时间：2ms 
 rollback:  
2023-05-15 14:28:40.903 DEBUG 73181 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoExceptionHandler(KatoException)
2023-05-15 14:28:40.968 DEBUG 73181 --- [http-nio-8080-exec-1] m.d.kato.server.KatoResponseBodyAdvice   : katoExceptionHandler 捕获异常

me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.getHealthManageService(HealthManageFacadeServiceImpl.kt:180) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.delHealthPlanByPatientIdAndTypes(HealthManageFacadeServiceImpl.kt:605) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.delHealthPlanByPatientIdAndTypes(ManageController.kt:55) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-15 14:28:41.514 DEBUG 73181 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 14:28:41.524 DEBUG 73181 --- [http-nio-8080-exec-1] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=null}
2023-05-15 14:28:41.528 DEBUG 73181 --- [http-nio-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=nu (truncated)...]
2023-05-15 14:28:41.639 DEBUG 73181 --- [http-nio-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现]
2023-05-15 14:28:41.640 DEBUG 73181 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 14:29:41.245 DEBUG 73181 --- [http-nio-8080-exec-4] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 15:28:29 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PwQ6CMAxA_6VnDhsb7cpNb178B5BipghmjMSE8O8OExMJXl_b99IZbtFDCRoLYi4IKWcmlZOzkIGvIpQandVGM3IGfd1ugbyeX1CQSmCCcgbfrHBnTMJxnKQ5bKxYmCQe4lHaIchukgo-VNEP_W_IWUqtUcLpkzLKKmTHWuXaoWVMRn-5n6uHrM85MkyotcH0lPRV3Uk6i2GSDLrh6vs_i8vyBhSA6YwcAQAA.GSGzcI6kvnGvIWbB3YVEYaZPRBmYPA6APHitBGRaPzA)
2023-05-15 14:29:41.248 DEBUG 73181 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/manage/delHealthPlanByPatientIdAndTypes", parameters={}
2023-05-15 14:29:41.251 DEBUG 73181 --- [http-nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#delHealthPlanByPatientIdAndTypes(DelHealthPlanByPatientIdAndTypes)
2023-05-15 14:29:41.256 DEBUG 73181 --- [http-nio-8080-exec-4] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"types":["DIET_PLAN"]}]
2023-05-15 14:29:41.257 DEBUG 73181 --- [http-nio-8080-exec-4] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=delHealthPlanByPatientIdAndTypes，value=DelHealthPlanByPatientIdAndTypes(patientId=1630406989102186496, types=[DIET_PLAN])
2023-05-15 14:29:41.264  INFO 73181 --- [http-nio-8080-exec-4] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:29:41 | 执行时间：1ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T14:29:41.261223'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T14:29:41.261223'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 14:30:29.111  INFO 73181 --- [http-nio-8080-exec-4] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:30:29 | 执行时间：1ms 
 rollback:  
2023-05-15 14:30:29.114 DEBUG 73181 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoExceptionHandler(KatoException)
2023-05-15 14:30:29.116 DEBUG 73181 --- [http-nio-8080-exec-4] m.d.kato.server.KatoResponseBodyAdvice   : katoExceptionHandler 捕获异常

me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.getHealthManageService(HealthManageFacadeServiceImpl.kt:180) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.delHealthPlanByPatientIdAndTypes(HealthManageFacadeServiceImpl.kt:605) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.delHealthPlanByPatientIdAndTypes(ManageController.kt:55) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-15 14:30:29.121 DEBUG 73181 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 14:30:29.122 DEBUG 73181 --- [http-nio-8080-exec-4] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=null}
2023-05-15 14:30:29.122 DEBUG 73181 --- [http-nio-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=nu (truncated)...]
2023-05-15 14:30:29.125 DEBUG 73181 --- [http-nio-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现]
2023-05-15 14:30:29.125 DEBUG 73181 --- [http-nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 14:32:17.788 DEBUG 73181 --- [http-nio-8080-exec-6] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 15:29:41 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zJrFkxLpx12unPjHUAGU0UwpSQmhLtbTEwkuP0z_738GW7RQwlIxjIbS1Yx21xZV0AGvopQIrkCNTJxBn3dbgN5Pb-BsQ4zmKCcwTdruCMm4DhO0hw2VDI6gYd4lHYIsrskgw9V9EP_K1I6yadRwumj0nmREzvGXKGjgikR_eV-rh6yjnNWsyVETWmU9FXdSarFMEkG3XD1_Z_HZXkD6KalURwBAAA.T0ByzpacXyJtywVjBsFEjTynUYRKd_Difi2f3EihbTM)
2023-05-15 14:32:17.790 DEBUG 73181 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 14:32:17.790 DEBUG 73181 --- [http-nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 14:32:17.797 DEBUG 73181 --- [http-nio-8080-exec-6] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划","type":"EXERCISE_PROGRAM","desc":"每天1次","cycleStartTime":"2022-09-21T00:00:00.000+08:00","cycleEndTime":"2022-10-21T00:00:00.000+08:00","id":null,"subName":"白菜","externalKey":"测试,要改掉","patientId":0,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1}]},{"name":"运动计划","type":"EXERCISE_PROGRAM","subName":"花菜","id":null,"patientId":0,"cycleStartTime":"2022-09-16T00:00:00.000+08:00","cycleEndTime":null,"desc":"每日五次","externalKey":"测试,要修改","frequencys":[{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE"}]}]}]
2023-05-15 14:32:17.861 DEBUG 73181 --- [http-nio-8080-exec-6] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public void com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(com.bjknrt.health.scheme.vo.FrequencyHealthAllParam): resolve [frequencyHealthAllParam] error: Missing required creator property 'frequencyMaxNum' (index 4)
 at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.bjknrt.health.scheme.vo.FrequencyHealthAllParam["healthPlans"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.FrequencyHealthParams["frequencys"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.Frequency["frequencyMaxNum"])
2023-05-15 14:32:17.862 DEBUG 73181 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoUndeclaredExceptionHandler(Exception)
2023-05-15 14:32:17.867 DEBUG 73181 --- [http-nio-8080-exec-6] m.d.kato.server.KatoResponseBodyAdvice   : katoUndeclaredExceptionHandler 捕获异常

java.lang.IllegalArgumentException: resolve [frequencyHealthAllParam] error: Missing required creator property 'frequencyMaxNum' (index 4)
 at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.bjknrt.health.scheme.vo.FrequencyHealthAllParam["healthPlans"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.FrequencyHealthParams["frequencys"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.Frequency["frequencyMaxNum"])
	at me.danwi.kato.server.argument.MultiRequestBodyMethodArgumentHandlerResolver.resolveArgument(MultiRequestBodyMethodArgumentHandlerResolver.java:110) ~[server-0.0.7-SNAPSHOT.jar:na]
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:122) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:179) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:146) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: com.fasterxml.jackson.databind.exc.MismatchedInputException: Missing required creator property 'frequencyMaxNum' (index 4)
 at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.bjknrt.health.scheme.vo.FrequencyHealthAllParam["healthPlans"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.FrequencyHealthParams["frequencys"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.Frequency["frequencyMaxNum"])
	at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1755) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.impl.PropertyValueBuffer._findMissing(PropertyValueBuffer.java:192) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.impl.PropertyValueBuffer.getParameter(PropertyValueBuffer.java:130) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.module.kotlin.KotlinValueInstantiator.createFromObjectWith(KotlinValueInstantiator.kt:61) ~[jackson-module-kotlin-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:202) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:518) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1405) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:351) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:184) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:563) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:438) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1405) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:351) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:184) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty.deserialize(SettableBeanProperty.java:542) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeWithErrorWrapping(BeanDeserializer.java:563) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:438) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1405) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:351) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:184) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.ObjectMapper._readValue(ObjectMapper.java:4650) ~[jackson-databind-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2856) ~[jackson-databind-2.13.3.jar:2.13.3]
	at me.danwi.kato.server.argument.MultiRequestBodyMethodArgumentHandlerResolver.readValue(MultiRequestBodyMethodArgumentHandlerResolver.java:117) ~[server-0.0.7-SNAPSHOT.jar:na]
	at me.danwi.kato.server.argument.MultiRequestBodyMethodArgumentHandlerResolver.resolveArgument(MultiRequestBodyMethodArgumentHandlerResolver.java:91) ~[server-0.0.7-SNAPSHOT.jar:na]
	... 92 common frames omitted

2023-05-15 14:32:17.917 DEBUG 73181 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 14:32:17.919 DEBUG 73181 --- [http-nio-8080-exec-6] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoUndeclaredException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='java.lang.IllegalArgumentException: resolve [frequencyHealthAllParam] error: Missing required creator property 'frequencyMaxNum' (index 4)
 at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.bjknrt.health.scheme.vo.FrequencyHealthAllParam["healthPlans"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.FrequencyHealthParams["frequencys"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.Frequency["frequencyMaxNum"])', data=null}
2023-05-15 14:32:17.919 DEBUG 73181 --- [http-nio-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='java.lang.Ille (truncated)...]
2023-05-15 14:32:17.921 DEBUG 73181 --- [http-nio-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.IllegalArgumentException: resolve [frequencyHealthAllParam] error: Missing required creator property 'frequencyMaxNum' (index 4)<EOL> at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: com.bjknrt.health.scheme.vo.FrequencyHealthAllParam["healthPlans"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.FrequencyHealthParams["frequencys"]->java.util.ArrayList[0]->com.bjknrt.health.scheme.vo.Frequency["frequencyMaxNum"])]
2023-05-15 14:32:17.921 DEBUG 73181 --- [http-nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 14:32:55.362 DEBUG 73181 --- [http-nio-8080-exec-8] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 15:32:17 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zLrLiilMx12unPjHUAGU8VioCQmhLtbTEwkuP1_5r38GW7RQwkaLTFbQsqZKcvJFaDAVxFKja7QRjOyglC320Bez29g2ZCCCcoZfLOGO2ICjuMkzWFDRWsSuI9HaftBdk0y-KGKvg-_InKYXKMMp4_KZEWG7FhnuXZYcCqDv9zP1UPWcY4ME2ptMI2SUNWdpLc4TKKg668-_DlcljfRPlaIHAEAAA.ppCku6ys0uBq66kSeTEp_hTHNXpx2yagnGaJvr2tdvg)
2023-05-15 14:32:55.364 DEBUG 73181 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 14:32:55.364 DEBUG 73181 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 14:32:55.367 DEBUG 73181 --- [http-nio-8080-exec-8] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","desc":"每天2次","patientId":1630406989102186496,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"id":null,"subName":"测试0508","displayTime":"2023-05-02T08:47:03.227+08:00","externalKey":null,"group":null,"clockDisplay":true,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyMaxNum":2},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2}]}]}]
2023-05-15 14:32:55.369 DEBUG 73181 --- [http-nio-8080-exec-8] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=frequencyHealthAllParam，value=FrequencyHealthAllParam(patientId=1630406989102186496, healthPlans=[FrequencyHealthParams(name=运动计划0512-1, type=EXERCISE_PROGRAM, patientId=1630406989102186496, id=null, subName=测试0508, desc=每天2次, externalKey=null, cycleStartTime=2023-05-02T08:47:03.227, cycleEndTime=null, displayTime=2023-05-02T08:47:03.227, group=null, clockDisplay=true, frequencys=[Frequency(frequencyTime=2, frequencyTimeUnit=DAYS, frequencyNum=1, frequencyNumUnit=DAYS, frequencyMaxNum=2, children=null), Frequency(frequencyTime=1, frequencyTimeUnit=DAYS, frequencyNum=2, frequencyNumUnit=SEQUENCE, frequencyMaxNum=2, children=null)])], type=EXERCISE_PROGRAM, drugPlans=null)
2023-05-15 14:32:55.437  INFO 73181 --- [http-nio-8080-exec-8] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:32:55 | 执行时间：1ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T14:32:55.434993'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T14:32:55.434993'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 14:32:59.713  INFO 73181 --- [http-nio-8080-exec-8] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:32:59 | 执行时间：1ms 
 rollback:  
2023-05-15 14:32:59.715 DEBUG 73181 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoExceptionHandler(KatoException)
2023-05-15 14:32:59.718 DEBUG 73181 --- [http-nio-8080-exec-8] m.d.kato.server.KatoResponseBodyAdvice   : katoExceptionHandler 捕获异常

me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.getHealthManageService(HealthManageFacadeServiceImpl.kt:180) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:587) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-15 14:32:59.720 DEBUG 73181 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 14:32:59.720 DEBUG 73181 --- [http-nio-8080-exec-8] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=null}
2023-05-15 14:32:59.720 DEBUG 73181 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=nu (truncated)...]
2023-05-15 14:32:59.722 DEBUG 73181 --- [http-nio-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现]
2023-05-15 14:32:59.722 DEBUG 73181 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 14:33:50.580 DEBUG 73181 --- [http-nio-8080-exec-10] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 15:32:55 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zLrLlpKpx12unPjHYoMpopgSklMCHe3mJhIcPtn_nv5M9xSgAoUGktkLNqCyMrCuhIEBJ-gUuhKpRUhCejrdhvw6_kNDFkjYIJqhtCs4Y6YgeM4cXPYUNHoDB7Skdsh8u6SDSH6FIb-V6RRZtfI8fRRaVlKJEdKFsphSZiJ4XI_-wev45zVZFEpjXkU977uONdSnFhAN1xD_-dxWd7l8UjfHAEAAA.QH9hbkx_rUrjwwsCMWZR7hcjLfdKsr5mc8HI8GOSjUA)
2023-05-15 14:33:50.581 DEBUG 73181 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 14:33:50.582 DEBUG 73181 --- [http-nio-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 14:33:50.583 DEBUG 73181 --- [http-nio-8080-exec-10] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","desc":"每天2次","patientId":1630406989102186496,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"id":null,"subName":"测试0508","displayTime":"2023-05-02T08:47:03.227+08:00","externalKey":null,"group":null,"clockDisplay":true,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyMaxNum":2},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2}]}]}]
2023-05-15 14:33:50.586 DEBUG 73181 --- [http-nio-8080-exec-10] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=frequencyHealthAllParam，value=FrequencyHealthAllParam(patientId=1630406989102186496, healthPlans=[FrequencyHealthParams(name=运动计划0512-1, type=EXERCISE_PROGRAM, patientId=1630406989102186496, id=null, subName=测试0508, desc=每天2次, externalKey=null, cycleStartTime=2023-05-02T08:47:03.227, cycleEndTime=null, displayTime=2023-05-02T08:47:03.227, group=null, clockDisplay=true, frequencys=[Frequency(frequencyTime=2, frequencyTimeUnit=DAYS, frequencyNum=1, frequencyNumUnit=DAYS, frequencyMaxNum=2, children=null), Frequency(frequencyTime=1, frequencyTimeUnit=DAYS, frequencyNum=2, frequencyNumUnit=SEQUENCE, frequencyMaxNum=2, children=null)])], type=EXERCISE_PROGRAM, drugPlans=null)
2023-05-15 14:33:50.595  INFO 73181 --- [http-nio-8080-exec-10] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:33:50 | 执行时间：2ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T14:33:50.591246'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T14:33:50.591246'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 14:37:52.229  WARN 73181 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=4m30s229ms).
2023-05-15 14:39:02.055  WARN 73181 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m9s826ms).
2023-05-15 14:45:19.173  WARN 73181 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=6m17s115ms).
2023-05-15 14:45:19.188  INFO 73181 --- [http-nio-8080-exec-10] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 14:45:19 | 执行时间：9ms 
 rollback:  
2023-05-15 14:45:19.196 DEBUG 73181 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoExceptionHandler(KatoException)
2023-05-15 14:45:19.207 DEBUG 73181 --- [http-nio-8080-exec-10] m.d.kato.server.KatoResponseBodyAdvice   : katoExceptionHandler 捕获异常

me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.getHealthManageService(HealthManageFacadeServiceImpl.kt:180) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:587) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-15 14:45:19.217 DEBUG 73181 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 14:45:19.218 DEBUG 73181 --- [http-nio-8080-exec-10] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=null}
2023-05-15 14:45:19.219 DEBUG 73181 --- [http-nio-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoException', message='健康管理方案类型缺少对应实现', data=nu (truncated)...]
2023-05-15 14:45:19.243  WARN 73181 --- [http-nio-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Failure in @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoExceptionHandler(KatoException)

org.apache.catalina.connector.ClientAbortException: java.io.IOException: Broken pipe
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:310) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.OutputBuffer.flush(OutputBuffer.java:273) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteOutputStream.flush(CoyoteOutputStream.java:118) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.util.OnCommittedResponseWrapper$SaveContextServletOutputStream.flush(OnCommittedResponseWrapper.java:523) ~[spring-security-web-5.7.2.jar:5.7.2]
	at java.base/java.io.FilterOutputStream.flush(FilterOutputStream.java:153) ~[na:na]
	at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1187) ~[jackson-core-2.13.3.jar:2.13.3]
	at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1009) ~[jackson-databind-2.13.3.jar:2.13.3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:456) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.handleReturnValue(RequestResponseBodyMethodProcessor.java:183) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:78) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:135) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:428) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:75) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:142) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1327) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1084) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.io.IOException: Broken pipe
	at java.base/sun.nio.ch.FileDispatcherImpl.write0(Native Method) ~[na:na]
	at java.base/sun.nio.ch.SocketDispatcher.write(SocketDispatcher.java:62) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.writeFromNativeBuffer(IOUtil.java:132) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:97) ~[na:na]
	at java.base/sun.nio.ch.IOUtil.write(IOUtil.java:53) ~[na:na]
	at java.base/sun.nio.ch.SocketChannelImpl.write(SocketChannelImpl.java:532) ~[na:na]
	at org.apache.tomcat.util.net.NioChannel.write(NioChannel.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.doWrite(NioEndpoint.java:1384) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketWrapperBase.doWrite(SocketWrapperBase.java:773) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketWrapperBase.flushBlocking(SocketWrapperBase.java:726) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketWrapperBase.flush(SocketWrapperBase.java:716) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11OutputBuffer$SocketOutputBuffer.flush(Http11OutputBuffer.java:573) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.filters.ChunkedOutputFilter.flush(ChunkedOutputFilter.java:157) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11OutputBuffer.flush(Http11OutputBuffer.java:221) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.flush(Http11Processor.java:1255) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessor.action(AbstractProcessor.java:402) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.Response.action(Response.java:209) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.OutputBuffer.doFlush(OutputBuffer.java:306) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	... 103 common frames omitted

2023-05-15 14:45:19.252 DEBUG 73181 --- [http-nio-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Failed to complete request: me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
2023-05-15 14:45:19.265 ERROR 73181 --- [http-nio-8080-exec-10] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现] with root cause

me.danwi.kato.common.exception.KatoException: 健康管理方案类型缺少对应实现
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.getHealthManageService(HealthManageFacadeServiceImpl.kt:180) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:587) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]

2023-05-15 14:48:35.917  INFO 73181 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 14:48:35.936  INFO 73181 --- [Thread-6] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 14:48:41.399  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:48:41.399 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:48:41.400  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:48:45.560  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 14:48:46.015  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:48:46.016  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:48:46.016  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:48:46.073  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 14:48:46.074  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4634 ms
2023-05-15 14:48:46.613  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:48:46.712 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:48:46.713 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:48:46.715 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:48:47.223  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:48:47.257  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2023-05-15 14:48:47.333  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2023-05-15 14:48:47.334  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 14:48:47.358  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：10 | 当前时间：2023-05-15 14:48:47 | 执行时间：19ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 14:48:47.395  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：11 | 当前时间：2023-05-15 14:48:47 | 执行时间：4ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 14:48:47.396  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 14:48:47.398  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：11 | 当前时间：2023-05-15 14:48:47 | 执行时间：1ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 14:48:47.407  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 14:48:47.409  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：11 | 当前时间：2023-05-15 14:48:47 | 执行时间：0ms 
 commit:  
2023-05-15 14:48:47.411  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：11 | 当前时间：2023-05-15 14:48:47 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 14:48:47.412  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 14:48:47.414  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：11 | 当前时间：2023-05-15 14:48:47 | 执行时间：0ms 
 rollback:  
2023-05-15 14:48:47.415  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 14:48:47.415  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 14:48:47.425  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 14:48:47.749  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 14:48:47.751  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:48:48.366  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:48:48.742  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:48:48.893  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:48:49.339  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:48:49.638 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 14:48:49.725 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 14:48:49.848 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 14:48:49.871 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 14:48:50.176  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24bab5de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f40af6f, org.springframework.security.web.context.SecurityContextPersistenceFilter@7c26bf9, org.springframework.security.web.header.HeaderWriterFilter@6a2583f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d8a70d7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74e3fb87, com.bjknrt.security.JwtAuthenticationFilter@1b8adff2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28fa6230, org.springframework.security.web.session.SessionManagementFilter@44333564, org.springframework.security.web.access.ExceptionTranslationFilter@6f086c1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@23556fb4]
2023-05-15 14:48:51.021  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 14:48:51.150  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 14:48:51.151  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 14:48:51.151 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 14:48:51.151 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 14:48:51.152 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 14:48:51.156 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3ff2c535
2023-05-15 14:48:51.161 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6ca04244
2023-05-15 14:48:51.161 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 14:48:51.165  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 14 ms
2023-05-15 14:48:51.166  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 14:48:51.205  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 14.946 seconds (JVM running for 1586.652)
2023-05-15 14:48:51.211  INFO 73181 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2023-05-15 14:48:52.370  INFO 73181 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2023-05-15 14:48:52.378  INFO 73181 --- [Thread-10] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2023-05-15 14:48:57.685  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:48:57.685 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:48:57.686  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:48:57.883  WARN 73181 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.bjknrt.health.scheme.HealthSchemeServerApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
2023-05-15 14:48:57.887  INFO 73181 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 14:48:57.991 ERROR 73181 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.bjknrt.health.scheme.HealthSchemeServerApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:49) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:696) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:1024) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:386) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:332) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.21.jar:5.3.21]
	... 18 common frames omitted

2023-05-15 14:48:59.768  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:48:59.768 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:48:59.769  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:48:59.959  WARN 73181 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.bjknrt.health.scheme.HealthSchemeServerApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
2023-05-15 14:48:59.960  INFO 73181 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 14:48:59.992 ERROR 73181 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.bjknrt.health.scheme.HealthSchemeServerApplication]; nested exception is java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:189) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:331) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:745) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:420) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1317) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.6.8.jar:2.6.8]
	at com.bjknrt.health.scheme.HealthSchemeServerApplicationKt.main(HealthSchemeServerApplication.kt:25) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.6.8.jar:2.6.8]
Caused by: java.io.FileNotFoundException: class path resource [com/bjknrt/health/scheme/api/ClockInApi.class] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:199) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReader.getClassReader(SimpleMetadataReader.java:55) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:49) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.createMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:86) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.boot.type.classreading.ConcurrentReferenceCachingMetadataReaderFactory.getMetadataReader(ConcurrentReferenceCachingMetadataReaderFactory.java:73) ~[spring-boot-2.6.8.jar:2.6.8]
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:81) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.asSourceClass(ConfigurationClassParser.java:696) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser$SourceClass.getInterfaces(ConfigurationClassParser.java:1024) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processInterfaces(ConfigurationClassParser.java:386) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:332) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:199) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:304) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:250) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:207) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:175) ~[spring-context-5.3.21.jar:5.3.21]
	... 18 common frames omitted

2023-05-15 14:49:08.944  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:49:08.945 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:49:08.945  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:49:14.668  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 14:49:15.863  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:49:15.864  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:49:15.865  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:49:15.964  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 14:49:15.964  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 6998 ms
2023-05-15 14:49:17.046  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:17.340 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:49:17.341 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:49:17.343 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:49:18.136  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:49:18.180  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2023-05-15 14:49:18.236  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2023-05-15 14:49:18.239  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 14:49:18.243  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：20 | 当前时间：2023-05-15 14:49:18 | 执行时间：2ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 14:49:18.264  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：21 | 当前时间：2023-05-15 14:49:18 | 执行时间：0ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 14:49:18.265  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 14:49:18.266  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：21 | 当前时间：2023-05-15 14:49:18 | 执行时间：0ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 14:49:18.272  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 14:49:18.274  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：21 | 当前时间：2023-05-15 14:49:18 | 执行时间：0ms 
 commit:  
2023-05-15 14:49:18.276  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：21 | 当前时间：2023-05-15 14:49:18 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 14:49:18.277  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 14:49:18.278  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：21 | 当前时间：2023-05-15 14:49:18 | 执行时间：0ms 
 rollback:  
2023-05-15 14:49:18.279  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 14:49:18.279  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 14:49:18.288  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 14:49:18.621  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 14:49:18.622  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:49:19.825  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:20.298  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:20.615  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:21.197  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:21.907 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 14:49:22.045 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 14:49:22.249 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 14:49:22.418 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 14:49:22.817  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6490f563, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46514f0c, org.springframework.security.web.context.SecurityContextPersistenceFilter@42223046, org.springframework.security.web.header.HeaderWriterFilter@4c1ca79d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72866229, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25159b92, com.bjknrt.security.JwtAuthenticationFilter@372331b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10087a96, org.springframework.security.web.session.SessionManagementFilter@7679fc40, org.springframework.security.web.access.ExceptionTranslationFilter@1f20c04e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a586208]
2023-05-15 14:49:24.461  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 14:49:24.667  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 14:49:24.668  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 14:49:24.668 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 14:49:24.668 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 14:49:24.669 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 14:49:24.671 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@178b078a
2023-05-15 14:49:24.672 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@498c8eb7
2023-05-15 14:49:24.672 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 14:49:24.673  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 5 ms
2023-05-15 14:49:24.673  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 14:49:24.728  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 21.052 seconds (JVM running for 1620.176)
2023-05-15 14:49:24.736  INFO 73181 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2023-05-15 14:49:27.976  INFO 73181 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2023-05-15 14:49:27.982  INFO 73181 --- [Thread-16] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2023-05-15 14:49:33.398  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:49:33.398 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:49:33.398  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:49:36.409  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=45a840b8-b782-32f9-9120-868b415066ad
2023-05-15 14:49:36.977  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:49:36.982  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:49:36.983  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:49:37.054  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 14:49:37.055  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 3646 ms
2023-05-15 14:49:37.622  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:49:37.813 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:49:37.814 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:49:37.819 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:49:38.334  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:49:38.375  WARN 73181 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.operation.logsdk.util.OperationLogUtil': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-05-15 14:49:38.377  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 14:49:38.431  INFO 73181 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 14:49:38.491 ERROR 73181 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bjknrt.operation.logsdk.util.OperationLogUtil required a bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' that could not be found.


Action:

Consider defining a bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' in your configuration.

2023-05-15 14:50:07.243  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 14:50:07.244 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 14:50:07.245  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 14:50:09.277  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 14:50:09.567  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 14:50:09.568  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 14:50:09.568  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 14:50:09.612  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-05-15 14:50:09.613  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2346 ms
2023-05-15 14:50:09.949  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:50:10.019 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 14:50:10.020 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 14:50:10.021 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 14:50:10.269  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 14:50:10.284  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2023-05-15 14:50:10.301  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2023-05-15 14:50:10.302  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 14:50:10.306  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：30 | 当前时间：2023-05-15 14:50:10 | 执行时间：2ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 14:50:10.336  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：31 | 当前时间：2023-05-15 14:50:10 | 执行时间：1ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 14:50:10.337  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 14:50:10.338  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：31 | 当前时间：2023-05-15 14:50:10 | 执行时间：0ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 14:50:10.344  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 14:50:10.346  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：31 | 当前时间：2023-05-15 14:50:10 | 执行时间：1ms 
 commit:  
2023-05-15 14:50:10.347  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：31 | 当前时间：2023-05-15 14:50:10 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 14:50:10.347  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 14:50:10.349  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：31 | 当前时间：2023-05-15 14:50:10 | 执行时间：0ms 
 rollback:  
2023-05-15 14:50:10.350  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 14:50:10.350  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 14:50:10.358  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 14:50:10.622  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 14:50:10.624  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 14:50:11.109  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:50:11.314  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:50:11.496  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:50:11.720  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 14:50:11.882 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 14:50:11.923 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 14:50:11.991 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 14:50:12.010 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 14:50:12.162  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@439e5ee9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a127d6d, org.springframework.security.web.context.SecurityContextPersistenceFilter@128ca267, org.springframework.security.web.header.HeaderWriterFilter@5914635e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24489ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ffb8ab2, com.bjknrt.security.JwtAuthenticationFilter@1e49f129, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ba1066, org.springframework.security.web.session.SessionManagementFilter@1d44a875, org.springframework.security.web.access.ExceptionTranslationFilter@41b47603, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@455045e7]
2023-05-15 14:50:12.678  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 14:50:12.775  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 14:50:12.775  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 14:50:12.775 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 14:50:12.776 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 14:50:12.776 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 14:50:12.779 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7b491d88
2023-05-15 14:50:12.781 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@36404ad6
2023-05-15 14:50:12.781 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 14:50:12.782  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 7 ms
2023-05-15 14:50:12.782  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 14:50:12.804  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 10.699 seconds (JVM running for 1668.254)
2023-05-15 14:50:12.810  INFO 73181 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2023-05-15 15:26:26.456  INFO 73181 --- [Thread-28] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2023-05-15 15:26:26.463  INFO 73181 --- [Thread-28] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2023-05-15 15:26:31.925  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 15:26:31.926 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 15:26:31.926  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 15:26:33.545  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 15:26:33.799  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 15:26:33.799  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 15:26:33.799  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 15:26:33.834  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-05-15 15:26:33.835  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1878 ms
2023-05-15 15:26:34.271  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:34.385 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 15:26:34.386 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 15:26:34.391 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 15:26:34.557  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 15:26:34.568  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2023-05-15 15:26:34.587  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2023-05-15 15:26:34.587  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 15:26:34.597  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：49 | 当前时间：2023-05-15 15:26:34 | 执行时间：9ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 15:26:34.611  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：50 | 当前时间：2023-05-15 15:26:34 | 执行时间：3ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 15:26:34.612  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 15:26:34.613  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：50 | 当前时间：2023-05-15 15:26:34 | 执行时间：0ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 15:26:34.619  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 15:26:34.621  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：50 | 当前时间：2023-05-15 15:26:34 | 执行时间：0ms 
 commit:  
2023-05-15 15:26:34.622  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：50 | 当前时间：2023-05-15 15:26:34 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 15:26:34.622  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 15:26:34.623  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：50 | 当前时间：2023-05-15 15:26:34 | 执行时间：0ms 
 rollback:  
2023-05-15 15:26:34.624  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 15:26:34.624  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 15:26:34.632  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 15:26:34.864  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 15:26:34.865  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 15:26:35.202  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:35.525  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:35.608  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:35.776  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:35.871 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 15:26:35.896 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 15:26:35.957 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 15:26:35.982 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 15:26:36.091  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@768b147e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f1c2a0b, org.springframework.security.web.context.SecurityContextPersistenceFilter@568226ca, org.springframework.security.web.header.HeaderWriterFilter@14c7fab3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7513e315, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12ad3879, com.bjknrt.security.JwtAuthenticationFilter@a930d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78f2e096, org.springframework.security.web.session.SessionManagementFilter@61a1371b, org.springframework.security.web.access.ExceptionTranslationFilter@153a5882, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@58c4f349]
2023-05-15 15:26:36.489  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 15:26:36.539  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 15:26:36.539  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 15:26:36.539 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 15:26:36.540 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 15:26:36.540 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 15:26:36.541 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23e26516
2023-05-15 15:26:36.542 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4556b6e3
2023-05-15 15:26:36.542 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 15:26:36.542  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2023-05-15 15:26:36.542  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 15:26:36.561  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 9.747 seconds (JVM running for 3852.133)
2023-05-15 15:26:36.565  INFO 73181 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2023-05-15 15:26:41.017  INFO 73181 --- [Thread-38] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2023-05-15 15:26:41.023  INFO 73181 --- [Thread-38] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2023-05-15 15:26:46.239  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 15:26:46.239 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 15:26:46.239  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 15:26:47.334  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=45a840b8-b782-32f9-9120-868b415066ad
2023-05-15 15:26:47.496  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 15:26:47.497  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 15:26:47.497  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 15:26:47.524  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-05-15 15:26:47.524  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1282 ms
2023-05-15 15:26:47.708  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:26:47.748 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 15:26:47.749 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 15:26:47.749 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 15:26:47.868  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 15:26:47.879  WARN 73181 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.bjknrt.operation.logsdk.util.OperationLogUtil': Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2023-05-15 15:26:47.880  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 15:26:47.894  INFO 73181 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 15:26:47.904 ERROR 73181 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.bjknrt.operation.logsdk.util.OperationLogUtil required a bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' that could not be found.


Action:

Consider defining a bean of type 'com.bjknrt.operation.logsdk.rpc.OperationLogClient' in your configuration.

2023-05-15 15:26:59.055  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 73181 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 15:26:59.056 DEBUG 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 15:26:59.056  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 15:27:01.060  INFO 73181 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 15:27:01.294  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 15:27:01.296  INFO 73181 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 15:27:01.296  INFO 73181 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 15:27:01.328  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2023-05-15 15:27:01.328  INFO 73181 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2256 ms
2023-05-15 15:27:01.669  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:01.801 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 15:27:01.802 DEBUG 73181 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 15:27:01.803 DEBUG 73181 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 15:27:02.015  INFO 73181 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 15:27:02.029  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2023-05-15 15:27:02.055  INFO 73181 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2023-05-15 15:27:02.056  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 15:27:02.060  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：59 | 当前时间：2023-05-15 15:27:02 | 执行时间：3ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 15:27:02.081  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:02 | 执行时间：7ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 15:27:02.082  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 15:27:02.085  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:02 | 执行时间：2ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 15:27:02.091  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 15:27:02.094  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:02 | 执行时间：2ms 
 commit:  
2023-05-15 15:27:02.095  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:02 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 15:27:02.096  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 15:27:02.097  INFO 73181 --- [restartedMain] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:02 | 执行时间：0ms 
 rollback:  
2023-05-15 15:27:02.098  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 15:27:02.098  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 15:27:02.102  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 15:27:02.285  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 15:27:02.285  INFO 73181 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 15:27:02.526  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:02.686  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:02.769  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:02.891  INFO 73181 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:02.995 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 15:27:03.014 DEBUG 73181 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 15:27:03.058 DEBUG 73181 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 15:27:03.073 DEBUG 73181 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 15:27:03.150  INFO 73181 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13384a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c500156, org.springframework.security.web.context.SecurityContextPersistenceFilter@76ec113c, org.springframework.security.web.header.HeaderWriterFilter@515a4913, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66478152, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a406802, com.bjknrt.security.JwtAuthenticationFilter@1b2a86ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@612b7ee0, org.springframework.security.web.session.SessionManagementFilter@4e1b2d33, org.springframework.security.web.access.ExceptionTranslationFilter@77390b77, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e582c62]
2023-05-15 15:27:03.409  INFO 73181 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 15:27:03.456  INFO 73181 --- [restartedMain] o.a.c.c.C.[Tomcat-2].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 15:27:03.456  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 15:27:03.456 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 15:27:03.456 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 15:27:03.456 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 15:27:03.457 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6ced3030
2023-05-15 15:27:03.458 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3e1110ce
2023-05-15 15:27:03.458 DEBUG 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 15:27:03.458  INFO 73181 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-05-15 15:27:03.459  INFO 73181 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 15:27:03.472  INFO 73181 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 9.499 seconds (JVM running for 3879.045)
2023-05-15 15:27:03.474  INFO 73181 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2023-05-15 15:27:07.382  INFO 77978 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 77978 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 15:27:07.385 DEBUG 77978 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 15:27:07.386  INFO 77978 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 15:27:10.763  INFO 77978 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 15:27:11.855  INFO 77978 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 15:27:11.873  INFO 77978 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 15:27:11.874  INFO 77978 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 15:27:12.030  INFO 77978 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 15:27:12.031  INFO 77978 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4080 ms
2023-05-15 15:27:12.538  INFO 77978 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:12.620 DEBUG 77978 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 15:27:12.620 DEBUG 77978 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 15:27:12.660 DEBUG 77978 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 15:27:12.909  WARN 77978 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : Unable to start LiveReload server
2023-05-15 15:27:13.001  INFO 77978 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 15:27:13.453  INFO 77978 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 15:27:13.470  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 15:27:14.082  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 15:27:14 | 执行时间：5ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 15:27:14.108  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:27:14 | 执行时间：7ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 15:27:14.108  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 15:27:14.166  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:27:14 | 执行时间：4ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 15:27:14.173  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 15:27:14.175  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:27:14 | 执行时间：1ms 
 commit:  
2023-05-15 15:27:14.177  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:27:14 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 15:27:14.177  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 15:27:14.178  INFO 77978 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:27:14 | 执行时间：0ms 
 rollback:  
2023-05-15 15:27:14.179  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 15:27:14.179  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 15:27:14.202  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 15:27:14.407  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 15:27:14.408  INFO 77978 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 15:27:14.980  INFO 77978 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:15.141  INFO 77978 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:15.231  INFO 77978 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:15.386  INFO 77978 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:27:15.559 DEBUG 77978 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 15:27:15.668 DEBUG 77978 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 15:27:15.727 DEBUG 77978 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 15:27:15.743 DEBUG 77978 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 15:27:16.035  INFO 77978 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50009ccc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28c7c35f, org.springframework.security.web.context.SecurityContextPersistenceFilter@321497fc, org.springframework.security.web.header.HeaderWriterFilter@1e99b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fda3d8d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c825398, com.bjknrt.security.JwtAuthenticationFilter@11433227, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7400f4e4, org.springframework.security.web.session.SessionManagementFilter@53c30feb, org.springframework.security.web.access.ExceptionTranslationFilter@5db75044, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@12927224]
2023-05-15 15:27:16.701  INFO 77978 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 15:27:16.822  WARN 77978 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Failed to start bean 'webServerStartStop'; nested exception is org.springframework.boot.web.server.PortInUseException: Port 8080 is already in use
2023-05-15 15:27:16.833  INFO 77978 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 15:27:16.842  INFO 77978 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2023-05-15 15:27:16.845  INFO 77978 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2023-05-15 15:27:16.865  INFO 77978 --- [restartedMain] ConditionEvaluationReportLoggingListener : 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
2023-05-15 15:27:16.899 ERROR 77978 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Web server failed to start. Port 8080 was already in use.

Action:

Identify and stop the process that's listening on port 8080 or configure this application to listen on another port.

2023-05-15 15:27:28.516 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 15:32:55 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zLrLlpKpx12unPjHYoMpopgSklMCHe3mJhIcPtn_nv5M9xSgAoUGktkLNqCyMrCuhIEBJ-gUuhKpRUhCejrdhvw6_kNDFkjYIJqhtCs4Y6YgeM4cXPYUNHoDB7Skdsh8u6SDSH6FIb-V6RRZtfI8fRRaVlKJEdKFsphSZiJ4XI_-wev45zVZFEpjXkU977uONdSnFhAN1xD_-dxWd7l8UjfHAEAAA.QH9hbkx_rUrjwwsCMWZR7hcjLfdKsr5mc8HI8GOSjUA)
2023-05-15 15:27:28.518 DEBUG 73181 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 15:27:28.519 DEBUG 73181 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 15:27:28.528 DEBUG 73181 --- [http-nio-8080-exec-2] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","desc":"每天2次","patientId":1630406989102186496,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"id":null,"subName":"测试0508","displayTime":"2023-05-02T08:47:03.227+08:00","externalKey":null,"group":null,"clockDisplay":true,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyMaxNum":2},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2}]}]}]
2023-05-15 15:27:28.599 DEBUG 73181 --- [http-nio-8080-exec-2] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=frequencyHealthAllParam，value=FrequencyHealthAllParam(patientId=1630406989102186496, healthPlans=[FrequencyHealthParams(name=运动计划0512-1, type=EXERCISE_PROGRAM, patientId=1630406989102186496, id=null, subName=测试0508, desc=每天2次, externalKey=null, cycleStartTime=2023-05-02T08:47:03.227, cycleEndTime=null, displayTime=2023-05-02T08:47:03.227, group=null, clockDisplay=true, frequencys=[Frequency(frequencyTime=2, frequencyTimeUnit=DAYS, frequencyNum=1, frequencyNumUnit=DAYS, frequencyMaxNum=2, children=null), Frequency(frequencyTime=1, frequencyTimeUnit=DAYS, frequencyNum=2, frequencyNumUnit=SEQUENCE, frequencyMaxNum=2, children=null)])], type=EXERCISE_PROGRAM, drugPlans=null)
2023-05-15 15:27:28.668  INFO 73181 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:28 | 执行时间：5ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T15:27:28.656224'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T15:27:28.656224'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 15:27:28.701  INFO 73181 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:28 | 执行时间：19ms 
 statement: update `hs_hsm_health_plan` set  `is_del` = true where (((`hs_hsm_health_plan`.`kn_scheme_management_id`) = (1643644688302866432)) and ((`hs_hsm_health_plan`.`is_del`) = (false))) and ((`hs_hsm_health_plan`.`kn_plan_type`) = ('EXERCISE_PROGRAM')) 
2023-05-15 15:27:28.940 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth HTTP/1.1
2023-05-15 15:27:28.941 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Accept: application/json
2023-05-15 15:27:28.941 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Length: 605
2023-05-15 15:27:28.942 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Type: application/json
2023-05-15 15:27:28.942 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] TOKEN: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zLrLlpKpx12unPjHYoMpopgSklMCHe3mJhIcPtn_nv5M9xSgAoUGktkLNqCyMrCuhIEBJ-gUuhKpRUhCejrdhvw6_kNDFkjYIJqhtCs4Y6YgeM4cXPYUNHoDB7Skdsh8u6SDSH6FIb-V6RRZtfI8fRRaVlKJEdKFsphSZiJ4XI_-wev45zVZFEpjXkU977uONdSnFhAN1xD_-dxWd7l8UjfHAEAAA.QH9hbkx_rUrjwwsCMWZR7hcjLfdKsr5mc8HI8GOSjUA
2023-05-15 15:27:28.942 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] 
2023-05-15 15:27:28.942 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] {"healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","patientId":"1630406989102186496","id":null,"subName":null,"desc":"每天2次","externalKey":null,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"displayTime":"2023-05-02T08:47:03.227+08:00","group":null,"clockDisplay":true,"frequencys":[{"frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyNumUnit":"DAYS","frequencyMaxNum":2,"children":null},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2,"children":null}]}],"drugPlans":[]}
2023-05-15 15:27:28.942 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> END HTTP (605-byte body)
2023-05-15 15:27:28.949 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- ERROR ConnectException: Connection refused (6ms)
2023-05-15 15:27:28.951 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)
	at feign.Client$Default.convertAndSend(Client.java:207)
	at feign.Client$Default.execute(Client.java:104)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy13/jdk.proxy13.$Proxy300.upsertTypeFrequencyHealth(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy13/jdk.proxy13.$Proxy301.upsertTypeFrequencyHealth(Unknown Source)
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.saveHealthPlan(<generated>)
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97)
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.upsertTypeFrequencyHealth(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)

2023-05-15 15:27:28.952 DEBUG 73181 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- END ERROR
2023-05-15 15:27:28.967  INFO 73181 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：60 | 当前时间：2023-05-15 15:27:28 | 执行时间：5ms 
 rollback:  
2023-05-15 15:27:28.970 DEBUG 73181 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoUndeclaredExceptionHandler(Exception)
2023-05-15 15:27:28.989 DEBUG 73181 --- [http-nio-8080-exec-2] m.d.kato.server.KatoResponseBodyAdvice   : katoUndeclaredExceptionHandler 捕获异常

feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth
	at feign.FeignException.errorExecuting(FeignException.java:268) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]
	at jdk.proxy13/jdk.proxy13.$Proxy300.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]
	at jdk.proxy13/jdk.proxy13.$Proxy301.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$4cc17cb4.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$1b5ff1de.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401) ~[na:na]
	at feign.Client$Default.convertAndSend(Client.java:207) ~[feign-core-11.8.jar:na]
	at feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]
	... 133 common frames omitted

2023-05-15 15:27:29.005 DEBUG 73181 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 15:27:29.007 DEBUG 73181 --- [http-nio-8080-exec-2] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoUndeclaredException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth', data=null}
2023-05-15 15:27:29.008 DEBUG 73181 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.Retryabl (truncated)...]
2023-05-15 15:27:29.016 DEBUG 73181 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth]
2023-05-15 15:27:29.016 DEBUG 73181 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 15:31:01.433  INFO 78805 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Starting HealthSchemeServerApplicationKt using Java 17.0.6 on wanghehuideMacBookPro.local with PID 78805 (/Users/wanghehui/projects/java/hmp-be/health-scheme/health-scheme-server/build/classes/kotlin/main started by wanghehui in /Users/wanghehui/projects/java/hmp-be)
2023-05-15 15:31:01.434 DEBUG 78805 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Running with Spring Boot v2.6.8, Spring v5.3.21
2023-05-15 15:31:01.435  INFO 78805 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : The following 1 profile is active: "dev-local"
2023-05-15 15:31:04.499  INFO 78805 --- [restartedMain] o.s.cloud.context.scope.GenericScope     : BeanFactory id=a73b9025-e5e8-317c-aab6-451144550ac2
2023-05-15 15:31:05.687  INFO 78805 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2023-05-15 15:31:05.705  INFO 78805 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2023-05-15 15:31:05.705  INFO 78805 --- [restartedMain] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]
2023-05-15 15:31:05.878  INFO 78805 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2023-05-15 15:31:05.878  INFO 78805 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 4053 ms
2023-05-15 15:31:06.337  INFO 78805 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'user-permission-centre-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:31:06.423 DEBUG 78805 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping filters: filterRegistrationBean urls=[/*] order=-2147483647, springSecurityFilterChain urls=[/*] order=-100, filterRegistrationBean urls=[/*] order=2147483647, characterEncodingFilter urls=[/*] order=-2147483648, formContentFilter urls=[/*] order=-9900, requestContextFilter urls=[/*] order=-105, jwtAuthenticationFilter urls=[/*] order=2147483647
2023-05-15 15:31:06.423 DEBUG 78805 --- [restartedMain] o.s.b.w.s.ServletContextInitializerBeans : Mapping servlets: dispatcherServlet urls=[/]
2023-05-15 15:31:06.467 DEBUG 78805 --- [restartedMain] c.b.security.JwtAuthenticationFilter     : Filter 'jwtAuthenticationFilter' configured for use
2023-05-15 15:31:06.714  INFO 78805 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2023-05-15 15:31:06.811  INFO 78805 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2023-05-15 15:31:07.287  INFO 78805 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2023-05-15 15:31:07.306  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 准备将数据库(com.bjknrt.health.scheme)迁移到 34 版本
2023-05-15 15:31:07.938  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：0 | 当前时间：2023-05-15 15:31:07 | 执行时间：6ms 
 statement: create table if not exists _sqlex_version_(package text not null, version int not null, can_migrate bool not null) 
2023-05-15 15:31:07.975  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:07 | 执行时间：15ms 
 statement: lock tables _sqlex_version_ write 
2023-05-15 15:31:07.976  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 获取到全局锁,准备开始迁移
2023-05-15 15:31:08.051  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:08 | 执行时间：9ms 
 statement: select * from _sqlex_version_ where package='com.bjknrt.health.scheme' 
2023-05-15 15:31:08.059  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库当前版本已经是 34,无需迁移
2023-05-15 15:31:08.061  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:08 | 执行时间：1ms 
 commit:  
2023-05-15 15:31:08.063  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:08 | 执行时间：0ms 
 statement: unlock tables 
2023-05-15 15:31:08.063  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.migration.Migrator   : 数据库(com.bjknrt.health.scheme)版本迁移完成,释放全局锁
2023-05-15 15:31:08.064  INFO 78805 --- [restartedMain] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:08 | 执行时间：0ms 
 rollback:  
2023-05-15 15:31:08.065  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 准备比对数据库结构一致性
2023-05-15 15:31:08.065  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取SqlEx Repository(com.bjknrt.health.scheme)定义结构
2023-05-15 15:31:08.075  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 获取目标数据库结构
2023-05-15 15:31:08.296  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 计算结构差异
2023-05-15 15:31:08.299  INFO 78805 --- [restartedMain] me.danwi.sqlex.core.checker.Checker      : 结构一致性比对完成,无差异
2023-05-15 15:31:08.706  INFO 78805 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'doctor-patient-management-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:31:08.884  INFO 78805 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'health-indicator-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:31:08.973  INFO 78805 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'question-answering-system-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:31:09.127  INFO 78805 --- [restartedMain] o.s.c.openfeign.FeignClientFactoryBean   : For 'operation-log-server' URL not provided. Will try picking an instance via load-balancing.
2023-05-15 15:31:09.300 DEBUG 78805 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 2 ResponseBodyAdvice
2023-05-15 15:31:09.426 DEBUG 78805 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 47 mappings in 'requestMappingHandlerMapping'
2023-05-15 15:31:09.489 DEBUG 78805 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
2023-05-15 15:31:09.513 DEBUG 78805 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 2 ResponseBodyAdvice
2023-05-15 15:31:09.820  INFO 78805 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30d36222, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@475c76d4, org.springframework.security.web.context.SecurityContextPersistenceFilter@55149054, org.springframework.security.web.header.HeaderWriterFilter@cdc15b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@554333eb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@df6ea0f, com.bjknrt.security.JwtAuthenticationFilter@27bf63af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@455eb47d, org.springframework.security.web.session.SessionManagementFilter@40b6b836, org.springframework.security.web.access.ExceptionTranslationFilter@5f4beddb, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@165d451e]
2023-05-15 15:31:10.523  INFO 78805 --- [restartedMain] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'
2023-05-15 15:31:10.656  INFO 78805 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-05-15 15:31:10.657  INFO 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2023-05-15 15:31:10.657 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2023-05-15 15:31:10.657 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2023-05-15 15:31:10.657 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2023-05-15 15:31:10.658 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@73c51f37
2023-05-15 15:31:10.659 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5f2be4ed
2023-05-15 15:31:10.659 DEBUG 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2023-05-15 15:31:10.659  INFO 78805 --- [restartedMain] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2023-05-15 15:31:10.660  INFO 78805 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2023-05-15 15:31:10.678  INFO 78805 --- [restartedMain] c.b.h.s.HealthSchemeServerApplicationKt  : Started HealthSchemeServerApplicationKt in 10.07 seconds (JVM running for 16.414)
2023-05-15 15:31:21.162 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 16:27:28 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Pyw6CMBBF_2XWLPqcdtjpzo3_ADKYKoIpJTEh_LvFxESC2zNzz82d4ZYClCDROiLr0CkiJ5TzBgoIVYJSojdSS0IqoK_bLeDX8wtIGV_ABOUMoVnhzpiF4zhxc9hY0eosHtKR2yHy7pIbQqxSGPrfIiuybRo5nj5VWhiB5EkKJT0awmwMl_u5evA6zjtNDqXUmEdxX9Ud51iKExfQDdfQ_3lcljdtM3KuHAEAAA.iHNynV4o0_MQp4IYLZm1MoAFC1jd_7JuDra_E1tsBJE)
2023-05-15 15:31:21.181 DEBUG 78805 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 15:31:21.204 DEBUG 78805 --- [http-nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 15:31:21.254 DEBUG 78805 --- [http-nio-8080-exec-2] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","desc":"每天2次","patientId":1630406989102186496,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"id":null,"subName":"测试0508","displayTime":"2023-05-02T08:47:03.227+08:00","externalKey":null,"group":null,"clockDisplay":true,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyMaxNum":2},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2}]}]}]
2023-05-15 15:31:21.525 DEBUG 78805 --- [http-nio-8080-exec-2] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=frequencyHealthAllParam，value=FrequencyHealthAllParam(patientId=1630406989102186496, healthPlans=[FrequencyHealthParams(name=运动计划0512-1, type=EXERCISE_PROGRAM, patientId=1630406989102186496, id=null, subName=测试0508, desc=每天2次, externalKey=null, cycleStartTime=2023-05-02T08:47:03.227, cycleEndTime=null, displayTime=2023-05-02T08:47:03.227, group=null, clockDisplay=true, frequencys=[Frequency(frequencyTime=2, frequencyTimeUnit=DAYS, frequencyNum=1, frequencyNumUnit=DAYS, frequencyMaxNum=2, children=null), Frequency(frequencyTime=1, frequencyTimeUnit=DAYS, frequencyNum=2, frequencyNumUnit=SEQUENCE, frequencyMaxNum=2, children=null)])], type=EXERCISE_PROGRAM, drugPlans=null)
2023-05-15 15:31:22.179  INFO 78805 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:31:22 | 执行时间：15ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T15:31:21.843887'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T15:31:21.843887'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 15:33:07.409  WARN 78805 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m59s995ms).
2023-05-15 15:33:57.743  WARN 78805 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=50s360ms).
2023-05-15 15:33:57.899  INFO 78805 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:33:57 | 执行时间：21ms 
 statement: update `hs_hsm_health_plan` set  `is_del` = true where (((`hs_hsm_health_plan`.`kn_scheme_management_id`) = (1643644688302866432)) and ((`hs_hsm_health_plan`.`is_del`) = (false))) and ((`hs_hsm_health_plan`.`kn_plan_type`) = ('EXERCISE_PROGRAM')) 
2023-05-15 15:34:01.171 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth HTTP/1.1
2023-05-15 15:34:01.173 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Accept: application/json
2023-05-15 15:34:01.175 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Length: 605
2023-05-15 15:34:01.177 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Type: application/json
2023-05-15 15:34:01.179 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] TOKEN: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Pyw6CMBBF_2XWLPqcdtjpzo3_ADKYKoIpJTEh_LvFxESC2zNzz82d4ZYClCDROiLr0CkiJ5TzBgoIVYJSojdSS0IqoK_bLeDX8wtIGV_ABOUMoVnhzpiF4zhxc9hY0eosHtKR2yHy7pIbQqxSGPrfIiuybRo5nj5VWhiB5EkKJT0awmwMl_u5evA6zjtNDqXUmEdxX9Ud51iKExfQDdfQ_3lcljdtM3KuHAEAAA.iHNynV4o0_MQp4IYLZm1MoAFC1jd_7JuDra_E1tsBJE
2023-05-15 15:34:01.181 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] 
2023-05-15 15:34:01.182 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] {"healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","patientId":"1630406989102186496","id":null,"subName":null,"desc":"每天2次","externalKey":null,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"displayTime":"2023-05-02T08:47:03.227+08:00","group":null,"clockDisplay":true,"frequencys":[{"frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyNumUnit":"DAYS","frequencyMaxNum":2,"children":null},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2,"children":null}]}],"drugPlans":[]}
2023-05-15 15:34:01.185 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> END HTTP (605-byte body)
2023-05-15 15:34:01.209 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- ERROR ConnectException: Connection refused (22ms)
2023-05-15 15:34:01.227 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)
	at feign.Client$Default.convertAndSend(Client.java:207)
	at feign.Client$Default.execute(Client.java:104)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy3/jdk.proxy3.$Proxy143.upsertTypeFrequencyHealth(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy3/jdk.proxy3.$Proxy144.upsertTypeFrequencyHealth(Unknown Source)
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.saveHealthPlan(<generated>)
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97)
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.upsertTypeFrequencyHealth(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)

2023-05-15 15:34:01.229 DEBUG 78805 --- [http-nio-8080-exec-2] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- END ERROR
2023-05-15 15:34:01.404  INFO 78805 --- [http-nio-8080-exec-2] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:34:01 | 执行时间：1ms 
 rollback:  
2023-05-15 15:34:01.408 DEBUG 78805 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoUndeclaredExceptionHandler(Exception)
2023-05-15 15:34:01.442 DEBUG 78805 --- [http-nio-8080-exec-2] m.d.kato.server.KatoResponseBodyAdvice   : katoUndeclaredExceptionHandler 捕获异常

feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth
	at feign.FeignException.errorExecuting(FeignException.java:268) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]
	at jdk.proxy3/jdk.proxy3.$Proxy143.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]
	at jdk.proxy3/jdk.proxy3.$Proxy144.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401) ~[na:na]
	at feign.Client$Default.convertAndSend(Client.java:207) ~[feign-core-11.8.jar:na]
	at feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]
	... 133 common frames omitted

2023-05-15 15:34:01.541 DEBUG 78805 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 15:34:01.544 DEBUG 78805 --- [http-nio-8080-exec-2] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoUndeclaredException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth', data=null}
2023-05-15 15:34:01.545 DEBUG 78805 --- [http-nio-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.Retryabl (truncated)...]
2023-05-15 15:34:01.582 DEBUG 78805 --- [http-nio-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth]
2023-05-15 15:34:01.584 DEBUG 78805 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 15:34:30.224 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 16:31:21 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zJrFh1aph12unPjHUAGU8VioCQmhLtbTEwkuP1_5r38GW7RQwlIhWUuLNmc2arcOgMZ-CpCieQMamTiDELdbgN5Pb8BG4cZTFDO4Js13BETcBwnaQ4bKhU6gft4lLYfZNckgx-q6PvwK1KOkmuU4fRRaWUUsWNUOToynMrgL_dz9ZB1nLOaLSFqSqMkVHUn6S0Ok2TQ9Vcf_hwuyxtZGwISHAEAAA.R-DuxUVoxvQnRF42RilcSc4c7ux2xT-XuleoD7d8vsw)
2023-05-15 15:34:30.229 DEBUG 78805 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/manage/upsertTypeFrequencyHealth", parameters={}
2023-05-15 15:34:30.231 DEBUG 78805 --- [http-nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#upsertTypeFrequencyHealth(FrequencyHealthAllParam)
2023-05-15 15:34:30.235 DEBUG 78805 --- [http-nio-8080-exec-3] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"type":"EXERCISE_PROGRAM","healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","desc":"每天2次","patientId":1630406989102186496,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"id":null,"subName":"测试0508","displayTime":"2023-05-02T08:47:03.227+08:00","externalKey":null,"group":null,"clockDisplay":true,"frequencys":[{"frequencyNumUnit":"DAYS","frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyMaxNum":2},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2}]}]}]
2023-05-15 15:34:30.239 DEBUG 78805 --- [http-nio-8080-exec-3] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=frequencyHealthAllParam，value=FrequencyHealthAllParam(patientId=1630406989102186496, healthPlans=[FrequencyHealthParams(name=运动计划0512-1, type=EXERCISE_PROGRAM, patientId=1630406989102186496, id=null, subName=测试0508, desc=每天2次, externalKey=null, cycleStartTime=2023-05-02T08:47:03.227, cycleEndTime=null, displayTime=2023-05-02T08:47:03.227, group=null, clockDisplay=true, frequencys=[Frequency(frequencyTime=2, frequencyTimeUnit=DAYS, frequencyNum=1, frequencyNumUnit=DAYS, frequencyMaxNum=2, children=null), Frequency(frequencyTime=1, frequencyTimeUnit=DAYS, frequencyNum=2, frequencyNumUnit=SEQUENCE, frequencyMaxNum=2, children=null)])], type=EXERCISE_PROGRAM, drugPlans=null)
2023-05-15 15:34:30.258  INFO 78805 --- [http-nio-8080-exec-3] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:34:30 | 执行时间：3ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T15:34:30.253815'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T15:34:30.253815'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 15:35:32.491  WARN 78805 --- [HikariPool-1 housekeeper] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Thread starvation or clock leap detected (housekeeper delta=1m4s745ms).
2023-05-15 15:35:32.507  INFO 78805 --- [http-nio-8080-exec-3] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:35:32 | 执行时间：6ms 
 statement: update `hs_hsm_health_plan` set  `is_del` = true where (((`hs_hsm_health_plan`.`kn_scheme_management_id`) = (1643644688302866432)) and ((`hs_hsm_health_plan`.`is_del`) = (false))) and ((`hs_hsm_health_plan`.`kn_plan_type`) = ('EXERCISE_PROGRAM')) 
2023-05-15 15:35:32.514 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth HTTP/1.1
2023-05-15 15:35:32.514 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Accept: application/json
2023-05-15 15:35:32.515 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Length: 605
2023-05-15 15:35:32.515 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] Content-Type: application/json
2023-05-15 15:35:32.515 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] TOKEN: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zJrFh1aph12unPjHUAGU8VioCQmhLtbTEwkuP1_5r38GW7RQwlIhWUuLNmc2arcOgMZ-CpCieQMamTiDELdbgN5Pb8BG4cZTFDO4Js13BETcBwnaQ4bKhU6gft4lLYfZNckgx-q6PvwK1KOkmuU4fRRaWUUsWNUOToynMrgL_dz9ZB1nLOaLSFqSqMkVHUn6S0Ok2TQ9Vcf_hwuyxtZGwISHAEAAA.R-DuxUVoxvQnRF42RilcSc4c7ux2xT-XuleoD7d8vsw
2023-05-15 15:35:32.515 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] 
2023-05-15 15:35:32.516 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] {"healthPlans":[{"name":"运动计划0512-1","type":"EXERCISE_PROGRAM","patientId":"1630406989102186496","id":null,"subName":null,"desc":"每天2次","externalKey":null,"cycleStartTime":"2023-05-02T08:47:03.227+08:00","cycleEndTime":null,"displayTime":"2023-05-02T08:47:03.227+08:00","group":null,"clockDisplay":true,"frequencys":[{"frequencyTime":2,"frequencyTimeUnit":"DAYS","frequencyNum":1,"frequencyNumUnit":"DAYS","frequencyMaxNum":2,"children":null},{"frequencyTime":1,"frequencyTimeUnit":"DAYS","frequencyNum":2,"frequencyNumUnit":"SEQUENCE","frequencyMaxNum":2,"children":null}]}],"drugPlans":[]}
2023-05-15 15:35:32.516 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] ---> END HTTP (605-byte body)
2023-05-15 15:35:32.518 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- ERROR ConnectException: Connection refused (1ms)
2023-05-15 15:35:32.519 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)
	at feign.Client$Default.convertAndSend(Client.java:207)
	at feign.Client$Default.execute(Client.java:104)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy3/jdk.proxy3.$Proxy143.upsertTypeFrequencyHealth(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy3/jdk.proxy3.$Proxy144.upsertTypeFrequencyHealth(Unknown Source)
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.saveHealthPlan(<generated>)
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97)
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.upsertTypeFrequencyHealth(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)

2023-05-15 15:35:32.519 DEBUG 78805 --- [http-nio-8080-exec-3] c.b.health.scheme.rpc.HealthPlanClient   : [HealthPlanClient#upsertTypeFrequencyHealth] <--- END ERROR
2023-05-15 15:35:32.526  INFO 78805 --- [http-nio-8080-exec-3] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:35:32 | 执行时间：5ms 
 rollback:  
2023-05-15 15:35:32.528 DEBUG 78805 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoUndeclaredExceptionHandler(Exception)
2023-05-15 15:35:32.532 DEBUG 78805 --- [http-nio-8080-exec-3] m.d.kato.server.KatoResponseBodyAdvice   : katoUndeclaredExceptionHandler 捕获异常

feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth
	at feign.FeignException.errorExecuting(FeignException.java:268) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]
	at jdk.proxy3/jdk.proxy3.$Proxy143.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]
	at jdk.proxy3/jdk.proxy3.$Proxy144.upsertTypeFrequencyHealth(Unknown Source) ~[na:na]
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.saveHealthPlanAndRemindPlan(AbstractHealthManageService.kt:278) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.saveHealthPlan(HealthManageFacadeServiceImpl.kt:594) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:704) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.saveHealthPlan(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.upsertTypeFrequencyHealth(ManageController.kt:97) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.upsertTypeFrequencyHealth(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401) ~[na:na]
	at feign.Client$Default.convertAndSend(Client.java:207) ~[feign-core-11.8.jar:na]
	at feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]
	... 133 common frames omitted

2023-05-15 15:35:32.537 DEBUG 78805 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 15:35:32.538 DEBUG 78805 --- [http-nio-8080-exec-3] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoUndeclaredException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth', data=null}
2023-05-15 15:35:32.538 DEBUG 78805 --- [http-nio-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.Retryabl (truncated)...]
2023-05-15 15:35:32.540 DEBUG 78805 --- [http-nio-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/healthPlan/upsertTypeFrequencyHealth]
2023-05-15 15:35:32.541 DEBUG 78805 --- [http-nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 15:37:12.400 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 16:34:30 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Pyw6CMBBF_2XWXfQB0w473bnxH4oMpopgSklMCP9uMTGR4PbO3HNyZ7ilABUoLC1RadFqIiu1dQUICD5BpdAVyihCEtDX7Tbg1_MbEFopYIJqhtCs4Y6YgeM4cXPYULE0GTykI7dD5N0lG0L0KQz9r0hrnV0jx9NHZWQhkRwpqZXDgjATw-V-9g9exzlryKJSBvMo7n3dca6lOLGAbriG_s_jsrwB6gv0lxwBAAA.QuRwdOL_zOhs6K4HEIWy5O9Ap6y871duMwEFgZpgJQ8)
2023-05-15 15:37:12.402 DEBUG 78805 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/manage/delHealthPlanByPatientIdAndTypes", parameters={}
2023-05-15 15:37:12.405 DEBUG 78805 --- [http-nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#delHealthPlanByPatientIdAndTypes(DelHealthPlanByPatientIdAndTypes)
2023-05-15 15:37:12.411 DEBUG 78805 --- [http-nio-8080-exec-5] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"types":["DIET_PLAN"]}]
2023-05-15 15:37:12.429 DEBUG 78805 --- [http-nio-8080-exec-5] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=delHealthPlanByPatientIdAndTypes，value=DelHealthPlanByPatientIdAndTypes(patientId=1630406989102186496, types=[DIET_PLAN])
2023-05-15 15:37:12.456  INFO 78805 --- [http-nio-8080-exec-5] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:37:12 | 执行时间：5ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T15:37:12.448108'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T15:37:12.448108'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 15:37:24.289 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] ---> POST http://127.0.0.1:8081/medicationRemind/batchDeleteByTypeAndPatientId HTTP/1.1
2023-05-15 15:37:24.291 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Accept: application/json
2023-05-15 15:37:24.292 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Content-Length: 59
2023-05-15 15:37:24.292 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Content-Type: application/json
2023-05-15 15:37:24.293 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] TOKEN: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Pyw6CMBBF_2XWXfQB0w473bnxH4oMpopgSklMCP9uMTGR4PbO3HNyZ7ilABUoLC1RadFqIiu1dQUICD5BpdAVyihCEtDX7Tbg1_MbEFopYIJqhtCs4Y6YgeM4cXPYULE0GTykI7dD5N0lG0L0KQz9r0hrnV0jx9NHZWQhkRwpqZXDgjATw-V-9g9exzlryKJSBvMo7n3dca6lOLGAbriG_s_jsrwB6gv0lxwBAAA.QuRwdOL_zOhs6K4HEIWy5O9Ap6y871duMwEFgZpgJQ8
2023-05-15 15:37:24.293 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] 
2023-05-15 15:37:24.293 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] [{"patientId":"1630406989102186496","types":["DIET_PLAN"]}]
2023-05-15 15:37:24.293 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] ---> END HTTP (59-byte body)
2023-05-15 15:37:24.295 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] <--- ERROR ConnectException: Connection refused (1ms)
2023-05-15 15:37:24.297 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401)
	at feign.Client$Default.convertAndSend(Client.java:207)
	at feign.Client$Default.execute(Client.java:104)
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119)
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89)
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100)
	at jdk.proxy3/jdk.proxy3.$Proxy145.batchDeleteByTypeAndPatientId(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at jdk.proxy3/jdk.proxy3.$Proxy146.batchDeleteByTypeAndPatientId(Unknown Source)
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.delHealthPlanByPatientIdAndHealthManageIdAndTypes(AbstractHealthManageService.kt:326)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.delHealthPlanByPatientIdAndTypes(HealthManageFacadeServiceImpl.kt:612)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.delHealthPlanByPatientIdAndTypes(<generated>)
	at com.bjknrt.health.scheme.controller.ManageController.delHealthPlanByPatientIdAndTypes(ManageController.kt:55)
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708)
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.delHealthPlanByPatientIdAndTypes(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:833)

2023-05-15 15:37:24.298 DEBUG 78805 --- [http-nio-8080-exec-5] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] <--- END ERROR
2023-05-15 15:37:24.302  INFO 78805 --- [http-nio-8080-exec-5] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:37:24 | 执行时间：1ms 
 rollback:  
2023-05-15 15:37:24.305 DEBUG 78805 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler me.danwi.kato.server.KatoResponseBodyAdviceWithSecurity#katoUndeclaredExceptionHandler(Exception)
2023-05-15 15:37:24.309 DEBUG 78805 --- [http-nio-8080-exec-5] m.d.kato.server.KatoResponseBodyAdvice   : katoUndeclaredExceptionHandler 捕获异常

feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/medicationRemind/batchDeleteByTypeAndPatientId
	at feign.FeignException.errorExecuting(FeignException.java:268) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:129) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:89) ~[feign-core-11.8.jar:na]
	at feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:100) ~[feign-core-11.8.jar:na]
	at jdk.proxy3/jdk.proxy3.$Proxy145.batchDeleteByTypeAndPatientId(Unknown Source) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.21.jar:5.3.21]
	at jdk.proxy3/jdk.proxy3.$Proxy146.batchDeleteByTypeAndPatientId(Unknown Source) ~[na:na]
	at com.bjknrt.health.scheme.service.health.AbstractHealthManageService.delHealthPlanByPatientIdAndHealthManageIdAndTypes(AbstractHealthManageService.kt:326) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl.delHealthPlanByPatientIdAndTypes(HealthManageFacadeServiceImpl.kt:612) ~[main/:na]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$FastClassBySpringCGLIB$$d9887b9a.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.service.health.impl.HealthManageFacadeServiceImpl$$EnhancerBySpringCGLIB$$404737af.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController.delHealthPlanByPatientIdAndTypes(ManageController.kt:55) ~[main/:na]
	at com.bjknrt.health.scheme.controller.ManageController$$FastClassBySpringCGLIB$$c1f61268.invoke(<generated>) ~[main/:na]
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:793) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.validation.beanvalidation.MethodValidationInterceptor.invoke(MethodValidationInterceptor.java:123) ~[spring-context-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.20.jar:5.3.20]
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:763) ~[spring-aop-5.3.21.jar:5.3.21]
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:708) ~[spring-aop-5.3.21.jar:5.3.21]
	at com.bjknrt.health.scheme.controller.ManageController$$EnhancerBySpringCGLIB$$ee5acd9.delHealthPlanByPatientIdAndTypes(<generated>) ~[main/:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.20.jar:5.3.20]
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750) ~[javax.servlet-api-4.0.1.jar:4.0.1]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:111) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at com.bjknrt.security.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.kt:63) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:112) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:82) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.7.2.jar:5.7.2]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.8.jar:2.6.8]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.21.jar:5.3.21]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.21.jar:5.3.21]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.63.jar:9.0.63]
	at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method) ~[na:na]
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549) ~[na:na]
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597) ~[na:na]
	at java.base/java.net.Socket.connect(Socket.java:633) ~[na:na]
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:279) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:384) ~[na:na]
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:406) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1309) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1242) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1128) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1057) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream0(HttpURLConnection.java:1430) ~[na:na]
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1401) ~[na:na]
	at feign.Client$Default.convertAndSend(Client.java:207) ~[feign-core-11.8.jar:na]
	at feign.Client$Default.execute(Client.java:104) ~[feign-core-11.8.jar:na]
	at feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:119) ~[feign-core-11.8.jar:na]
	... 139 common frames omitted

2023-05-15 15:37:24.312 DEBUG 78805 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
2023-05-15 15:37:24.313 DEBUG 78805 --- [http-nio-8080-exec-5] m.d.kato.server.KatoResponseBodyAdvice   : 异常：me.danwi.kato.common.exception.KatoUndeclaredException 转换为：ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/medicationRemind/batchDeleteByTypeAndPatientId', data=null}
2023-05-15 15:37:24.314 DEBUG 78805 --- [http-nio-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Writing [ExceptionResult{id='me.danwi.kato.common.exception.KatoUndeclaredException', message='feign.Retryabl (truncated)...]
2023-05-15 15:37:24.320 DEBUG 78805 --- [http-nio-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [feign.RetryableException: Connection refused executing POST http://127.0.0.1:8081/medicationRemind/batchDeleteByTypeAndPatientId]
2023-05-15 15:37:24.322 DEBUG 78805 --- [http-nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2023-05-15 15:41:14.293 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.security.JwtAuthenticationFilter     : Set SecurityContextHolder to JwtAuthenticationToken(principal=JwtUserDetails(id=1657995767299702784, issuedAt=Mon May 15 14:26:09 CST 2023, notBefore=Mon May 15 14:26:09 CST 2023, expiration=Mon May 15 16:37:12 CST 2023, userId=1630406989102186496, nickName=18739761136, enabled=true, loginName=18739761136), credentials=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zJrFgyFaYed7tx4hyKDqWIxpSQmhLtbTEwkuP1_5r38GW7RQQ1IlWauNOmCWeeFNiVk4GyEGsmUqJCJM_BNtw3k9fwGbFSRwQT1DK5dwx0xAcdxkvawoVKlEniIR-mGILsmGVyw0Q3-V6SYkmuUcPqoVF7mxIYxL9BQuZbeXe5n-5B1nNGKNSEqSqPE26aX9BbDJBn0w9X5P4fL8gZrQ9DTHAEAAA.Z5Uec_ylxqV3G84lOgTG8L5lBjtPSRLhIeHuRZ5Se9U)
2023-05-15 15:41:14.302 DEBUG 78805 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/manage/delHealthPlanByPatientIdAndTypes", parameters={}
2023-05-15 15:41:14.306 DEBUG 78805 --- [http-nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.bjknrt.health.scheme.controller.ManageController#delHealthPlanByPatientIdAndTypes(DelHealthPlanByPatientIdAndTypes)
2023-05-15 15:41:14.319 DEBUG 78805 --- [http-nio-8080-exec-8] RequestBodyMethodArgumentHandlerResolver : 解析请求数据 [*/*] 为 [{"patientId":1630406989102186496,"types":["DIET_PLAN"]}]
2023-05-15 15:41:14.325 DEBUG 78805 --- [http-nio-8080-exec-8] RequestBodyMethodArgumentHandlerResolver : 解析参数：key=delHealthPlanByPatientIdAndTypes，value=DelHealthPlanByPatientIdAndTypes(patientId=1630406989102186496, types=[DIET_PLAN])
2023-05-15 15:41:14.348  INFO 78805 --- [http-nio-8080-exec-8] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:41:14 | 执行时间：4ms 
 statement: select * from `hs_health_scheme_management_info` where ((((`hs_health_scheme_management_info`.`kn_patient_id`) = (1630406989102186496)) and ((`hs_health_scheme_management_info`.`kn_created_at`) <= ('2023-05-15T15:41:14.340046'))) and ((`hs_health_scheme_management_info`.`is_del`) = (false))) and (((`hs_health_scheme_management_info`.`kn_end_date`) is null) or ((`hs_health_scheme_management_info`.`kn_end_date`) > ('2023-05-15T15:41:14.340046'))) order by (`hs_health_scheme_management_info`.`kn_id`) desc limit 1 
2023-05-15 15:41:17.904 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] ---> POST http://127.0.0.1:8081/medicationRemind/batchDeleteByTypeAndPatientId HTTP/1.1
2023-05-15 15:41:17.904 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Accept: application/json
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Content-Length: 59
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] Content-Type: application/json
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] TOKEN: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22PQQ6CMBBF7zJrFgyFaYed7tx4hyKDqWIxpSQmhLtbTEwkuP1_5r38GW7RQQ1IlWauNOmCWeeFNiVk4GyEGsmUqJCJM_BNtw3k9fwGbFSRwQT1DK5dwx0xAcdxkvawoVKlEniIR-mGILsmGVyw0Q3-V6SYkmuUcPqoVF7mxIYxL9BQuZbeXe5n-5B1nNGKNSEqSqPE26aX9BbDJBn0w9X5P4fL8gZrQ9DTHAEAAA.Z5Uec_ylxqV3G84lOgTG8L5lBjtPSRLhIeHuRZ5Se9U
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] 
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] [{"patientId":"1630406989102186496","types":["DIET_PLAN"]}]
2023-05-15 15:41:17.905 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] ---> END HTTP (59-byte body)
2023-05-15 15:41:20.703 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] <--- HTTP/1.1 200 (2793ms)
2023-05-15 15:41:20.705 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] cache-control: no-cache, no-store, max-age=0, must-revalidate
2023-05-15 15:41:20.705 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] connection: keep-alive
2023-05-15 15:41:20.705 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] content-length: 0
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] date: Mon, 15 May 2023 07:41:20 GMT
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] expires: 0
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] keep-alive: timeout=60
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] pragma: no-cache
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] set-cookie: jck=eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Puw6CQBBF_2Vqin3O7tBpZ-M_gAxmFcEsS2JC-HcXYyHB9szcc3NnuKUAJUi0jsg6dIrICeW8gQJClaCU6I3UkpAK6Ot2C_j1_AIjhPMFTFDOEJoV7oxZOI4TN4eNFa3O4iEduR0i7y65IcQqhaH_LbIq26aR4-lTpYURSJ6kUNKjIczGcLmfqwev47zT5FBKjXkU91XdcY6lOHEB3XAN_Z_HZXkDXsyBIRwBAAA.doPXbHgD5KkaRZQ5QUAFPnGTT2-IMaWNSMLNl8dAucM; Max-Age=3600; Expires=Mon, 15-May-2023 08:41:18 GMT; Path=/; HttpOnly
2023-05-15 15:41:20.707 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] token: eyJhbGciOiJIUzI1NiIsInppcCI6IkdaSVAifQ.H4sIAAAAAAAA_22Puw6CQBBF_2Vqin3O7tBpZ-M_gAxmFcEsS2JC-HcXYyHB9szcc3NnuKUAJUi0jsg6dIrICeW8gQJClaCU6I3UkpAK6Ot2C_j1_AIjhPMFTFDOEJoV7oxZOI4TN4eNFa3O4iEduR0i7y65IcQqhaH_LbIq26aR4-lTpYURSJ6kUNKjIczGcLmfqwev47zT5FBKjXkU91XdcY6lOHEB3XAN_Z_HZXkDXsyBIRwBAAA.doPXbHgD5KkaRZQ5QUAFPnGTT2-IMaWNSMLNl8dAucM
2023-05-15 15:41:20.708 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] x-content-type-options: nosniff
2023-05-15 15:41:20.708 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] x-frame-options: DENY
2023-05-15 15:41:20.708 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] x-xss-protection: 1; mode=block
2023-05-15 15:41:20.708 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] 
2023-05-15 15:41:20.708 DEBUG 78805 --- [http-nio-8080-exec-8] c.b.h.scheme.rpc.MedicationRemindClient  : [MedicationRemindClient#batchDeleteByTypeAndPatientId] <--- END HTTP (0-byte body)
2023-05-15 15:41:22.549  INFO 78805 --- [http-nio-8080-exec-8] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:41:22 | 执行时间：6ms 
 statement: update `hs_hsm_health_plan` set  `is_del` = true where (((`hs_hsm_health_plan`.`kn_scheme_management_id`) = (1643644688302866432)) and ((`hs_hsm_health_plan`.`is_del`) = (false))) and (`hs_hsm_health_plan`.`kn_plan_type` in ('DIET_PLAN')) 
2023-05-15 15:41:22.561  INFO 78805 --- [http-nio-8080-exec-8] p6spy                                    : 
连接ID：1 | 当前时间：2023-05-15 15:41:22 | 执行时间：7ms 
 commit:  
2023-05-15 15:41:22.581 DEBUG 78805 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Using 'application/json', given [*/*] and supported [application/json]
2023-05-15 15:41:22.584 DEBUG 78805 --- [http-nio-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Nothing to write: null body
2023-05-15 15:41:22.587 DEBUG 78805 --- [http-nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2023-05-15 16:29:20.669  INFO 78805 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2023-05-15 16:29:20.717  INFO 78805 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
